<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <<<<<<< HEAD <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro Pokemon</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>

  <!-- Parte superior com o título e formulário -->
  <div class="header">
    <h1>Pokédex</h1>
    <form action="/submit-pokemon" method="POST">
      <label for="name">Nome do Pokémon:</label>
      <input type="text" id="name" name="name" placeholder="Digite o nome do Pokémon" required>

      <label for="type">Tipo:</label>
      <select id="type" name="type" required>
        <option value="agua">Água</option>
        <option value="fogo">Fogo</option>
        <option value="grama">Planta</option>
        <option value="eletrico">Elétrico</option>
        <option value="psiquico">Psíquico</option>
        <option value="dragao">Dragão</option>
      </select>

      <label for="power">Poder Base:</label>
      <input type="number" id="power" name="power" placeholder="Digite o poder base" required>

      <button type="submit">Cadastrar Pokémon na pokedex</button>
    </form>
  </div>
  <div class="trainer-form">
    <h2>Cadastro de Treinador</h2>
    <form action="/trainers/submit-trainer" method="POST">
      <label for="gittrainer-name">Nome do Treinador:</label>
      <input type="text" id="trainer-name" name="name" placeholder="Digite o nome do treinador" required>

      <label for="pokemon-select">Pokémons do Treinador:</label>
      <select id="pokemon-select" name="pokemonIds" multiple required>
        <% pokemons.forEach(function(pokemon) { %>
          <option value="<%= pokemon.id %>">
            <%= pokemon.nome %> - <%= pokemon.tipo %>
          </option>
          <% }); %>
      </select>

      <button type="submit">Cadastrar Treinador</button>
    </form>
  </div>

  <!-- Lista de Pokémon cadastrados -->
  <div class="pokemon-list">
    <ul>
      <% pokemon.forEach(function(pokemon) { %>
        <li>
          <a href="/pokemon/<%= pokemon.id %>">
            <%= pokemon.nome %>
          </a> - <%= pokemon.tipo %>
        </li>
        <% }); %>
    </ul>
  </div>

</body>

</html>

<script>
  document.getElementById('pokemonForm').addEventListener('submit', async function (event) {
    event.preventDefault(); // Impede o envio padrão do formulário

    // Coleta os dados do formulário
    const formData = {
      name: document.getElementById('name').value,
      type: document.getElementById('type').value,
      power: document.getElementById('power').value,
      description: document.getElementById('description').value
    };

    try {
      // Envia os dados para o servidor
      const response = await fetch('/submit-pokemon', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
      });

      if (response.ok) {
        // Se o Pokémon foi criado com sucesso, recarrega a página
        window.location.reload();
      } else {
        throw new Error('Erro ao cadastrar o Pokémon');
      }
    } catch (error) {
      console.error(error);
      alert('Ocorreu um erro ao cadastrar o Pokémon. Tente novamente!');
    }
  });
</script>
=======
<title>Pokédex</title>
</head>

<body>
  <h1>Pokédex</h1>
  <ul>
    <% pokemons.forEach(function(pokemon) { %>
      <li>
        <a href="/pokemon/<%= pokemon.id %>">
          <%= pokemon.nome %>
        </a> - <%= pokemon.tipo %>
      </li>
      <% }); %>
  </ul>
</body>

</html>
>>>>>>> 511711a8fb27a7dd55fd07ef4092c4eb0740912f